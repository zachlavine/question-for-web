<html>
<head>
  <title>面试问题库1   AJAX系列</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1182"/>
<h1>面试问题库1   AJAX系列</h1>

<div>
<span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b> 什么是AJAX，AJAX原理，AJAX步骤？</b></span></span></div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">AJAX（Asynchronous JavaScript and XML）就是JS通过一个网址去加载数据，这个过程通常是用户不可见的。</span></span><div><span style="font-size: 19px;"><b>原理：</b></span></div><div><span style="font-size: 19px;">AJAX的原理简单来说通过XMLHttpRequest对象来向服务器发异步请求，从服务器获得数据，然后用JavaScript来操作DOM而更新页面。这其中最关键的一步就是从服务器获得请求数据。要清楚这个过程和原理，我们必须对 XMLHttpRequest有所了解。</span></div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">XMLHttpRequest是AJAX的核心机制，它是在IE5中首先引入的，是一种支持异步请求的技术。简单的说，也就是JavaScript可以及时向服务器提出请求和处理响应，而不阻塞用户。达到无刷新的效果。</span></span><div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">AJAX基本原理</span></span></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">创建向后台服务器的一个请求</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">确定发送的方式方法  </span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">发送请求  </span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">确定后台加载完毕 </span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">获取到请求返回的数据</span></span></div></blockquote></div><div><span style="font-size: 19px;"><b>步骤：</b></span></div><div><span style="font-size: 19px;">var xhr = new XMLHttpRequest();</span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">xhr.open(&quot;GET&quot;,url,true);<br/>
xhr.send(data);<br/>
xhr.onload = function(){alert(xhr.responseText)};</span></span><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br/></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b>异步加载的优势/特点</b><br/>
1.浏览器可以从服务器同时请求多项内容；<br/>
2.浏览器请求返回的速度会快得多；<br/>
3.只有页面中真正改变的部分得到更新；<br/>
4.能够减少服务器数据流量；<br/>
5.用户可以在页面更新的同时继续工作；<br/>
6.有些改变无须与服务器往返通信就可以处理。</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br/></span></span></div><div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b>get和post区别</b></span></span></div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">1.安全性<br/></span></span><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">get明文（基本=数据会显示在URL地址里面）发送，安全性较低<br/>
post暗文，安全性相对较高</span></span></blockquote><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">2.长度/数据大小<br/></span></span><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">post没有数据大小限制<br/>
由于数据放置在URL地址中传递，不同浏览器对URL地址长度 不同的限制，因此get发送的长度受限</span></span></blockquote><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">3.性能<br/></span></span><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"> get相对来说会比post要好，post的性能大概在get的1/3左右</span></span></blockquote><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">4.使用的频繁度<br/></span></span><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">     get使用的更频繁，post相对少用 </span></span></div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br/></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br/></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b>AJAX如何调用JSON数据,JSON数据的解析方法</b></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">技巧：首先了解AJAX的基本步骤，JSON数据的相关知识。之后叙述AJAX调用JSON数据及解析<br/></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br/></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">AJAX获取JSON：<br/>
$.ajax({<br/></span></span></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">url:&quot;url&quot;,</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">dataType:&quot;json&quot;,</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">type:&quot;get&quot;,</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">success:function(response){</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">     // response就是JSON数据</span></span></div></blockquote><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">          }<br/>
}<br/>
JSON解析方法：<br/>
str.parseJSON(); //由JSON字符串转换为JSON对象<br/>
JSON.parse(str); //由JSON字符串转换为JSON对象<br/>
obj.toJSONString(); //将JSON对象转化为JSON字符<br/>
JSON.stringify(obj); //将JSON对象转化为JSON字符</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br/></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b>XML与JSON的基本知识 </b></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">JSON优点</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">文件大小   </span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">解析速度</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">查找速度</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">缺点</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">支持程度</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">JSON体积要小于XML，因此节省流量，加载速度更快</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">浏览器解析XML会像解析HTML一样，解析成DOM树供JS使用，而JSON是解析成对象/数组，解析速度要优于XML。</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">JSON转换成对象之后我们只需要使用JS的语法（操作对象的方法）进行相关数据的寻找和使用，不需要使用getElementsByTagName等方法进行查找，更加简单</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">JSON的不足之处在于，IE7-的浏览器不支持。使用第三类库即可解决改问题（同时注意。Ie7-浏览器基本退市）</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><img src="面试问题库1   AJAX系列_files/Image.png" type="image/png" height="337" style="cursor: default; height: auto;cursor: default;" width="757"/><b> </b></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b><br/></b></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b>请介绍一下XMLhttprequest对象。</b><br/>
Ajax的核心是JavaScript对象XmlHttpRequest。该对象在Internet Explorer 5中首次引入，它是一种支持异步请求的技术。简而言之，XmlHttpRequest使您可以使用JavaScript向服务器提出请求并处理响应，而不阻塞用户。通过XMLHttpRequest对象，Web开发人员可以在页面加载以后进行页面的局部更新。</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br/></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b>介绍一下XMLHttpRequest对象的常用方法和属性。</b><br/>
open(“method”,”URL”) 建立对服务器的调用，第一个参数是HTTP请求    方式可以为GET，POST或任何服务器所支持的您想调用的方式。<br/>
第二个参数是请求页面的URL。<br/>
    send()方法，发送具体请求<br/>
    abort()方法，停止当前请求<br/>
    readyState属性   请求的状态 有5个可取值0=未初始化 ，1=正在加载<br/>
    2=以加载，3=交互中，4=完成<br/>
    responseText 属性  服务器的响应，表示为一个串<br/>
    reponseXML 属性 服务器的响应，表示为XML<br/>
    status   服务器的HTTP状态码，200对应ok  400对应not found</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br/></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b>HTTP状态码和readyStatue属性了解</b></span></span></div><div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">HTTP状态码</span></span></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">1XX 表示消息</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">2XX 表示成功</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">3XX 表示重定向</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">4XX 表示请求错误</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">5XX 表示服务器端错误</span></span></div></blockquote><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">常见HTTP状态码<br/>
200 OK<br/>
表示请求成功 一切正常<br/>
301 Moved Permanently<br/>
重定向，客户请求的文档在其他地方，新的URL在Location头中给出，浏览器应该自动地访问新的URL<br/>
302 Found<br/>
临时重定向，类似于301，但新的URL应该被视为临时性的替代，而不是永久性的。<br/>
304 Not Modified<br/>
客户端有缓冲的文档并发出了一个条件性的请求。服务器告诉客户，原来缓冲的文档还可以继续使用。<br/>
400 Bad Request<br/>
请求出现语法错误。<br/>
403 Forbidden<br/>
资源不可用。<br/>
404 Not Found<br/>
无法找到指定位置的资源。<br/>
405 Method Not Allowed<br/>
请求方法（GET、POST、HEAD、Delete、PUT、TRACE等）对指定的资源不适用。<br/>
500 Internal Server Error<br/>
服务器遇到了意料不到的情况，不能完成客户的请求。<br/>
501 Not Implemented<br/>
服务器不支持实现请求所需要的功能。</span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br/></span></span></div><div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">readyState属性<br/>
0：未初始化。尚未调用open（）方法；<br/>
1：启动（请求建立/准备好，未发送）。已经调用open（）方法，但未调用send（）方法；<br/>
2：发送（请求已发送，服务器正在处理）。已经调用send（）方法，但未接收到响应；<br/>
3：接收（数据下载到请求对象，但响应数据并没准备好，不能使用responseText）。已经接收到部分响应数据；<br/>
4：完成。已经接收到全部响应数据，而且已经在客户端使用了。</span></span></div><span style="font-size: 19px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br/></span></span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b><br/></b></span></div></div></span>
</div></body></html> 