<html>
<head>
  <title>hasLayout</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1189"/>
<h1>hasLayout</h1>

<div>
<span><div><h1 style="margin: 0px; padding: 0px; font-weight: bold; width: 725px; clear: both; text-align: center; color: rgb(0, 0, 0); font-family: tahoma, arial, sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 19px;"><a href="http://www.cnblogs.com/ideaplusl/archive/2011/07/07/2099843.html" style="margin: 0px; padding: 0px; color: rgb(46, 177, 232); text-decoration: none; font-weight: bold; text-shadow: rgb(167, 168, 173) 0px 0px 1px;">认识hasLayout——IE浏览器css bug的一大罪恶根源 转</a></span></h1><div style="margin: 0px; padding: 5px; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div style="margin: 0px 0px 20px; padding: 0px; word-break: break-word;"><div style="margin: 0px; padding: 0px;"><span style="font-size: 19px;"><span style="margin: 0px; padding: 0px;"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; color: rgb(204, 0, 0);">　　什么是hasLayout</span></strong>？<span style="margin: 0px; padding: 0px;">hasLayout是IE特有的一个属性。很多的ie下的css bug都与其息息相关。在ie中，一个元素要么自己对自身的内容进行计算大小和组织，要么依赖于父元素来计算尺寸和组织内容。当一个元素的hasLayout属性值为true时，它负责对自己和可能的子孙元素进行尺寸计算和定位。虽然这意味着这个元素需要花更多的代价来维护自身和里面的内容，而不是依赖于祖先元素来完成这些工作。 </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">下列元素默认 hasLayout=true </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">&lt;table&gt; &lt;td&gt; &lt;body&gt; &lt;img&gt; &lt;hr&gt; &lt;input&gt; &lt;select&gt; &lt;textarea&gt; &lt;button&gt; &lt;iframe&gt; &lt;embed&gt; &lt;object&gt; &lt;applet&gt; &lt;marquee&gt; </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">很多情况下，我们把 hasLayout的状态改成true 就可以解决很大部分ie下显示的bug。 </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">hasLayout属性不能直接设定，你只能通过设定一些特定的css属性来触发并改变 hasLayout 状态。下面列出可以触发hasLayout的一些CSS属性值。 </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">------------------------------------- </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">display </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">启动haslayout的值:inline-block </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">取消hasLayout的值:其他值 </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">-------------------------------------- </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">width/height </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">启动hasLayout的值：除了auto以外的值 </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">取消hasLayout的值：auto </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">--------------------------------------- </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">position </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">启动hasLayout的值：absolute </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">取消hasLayout的值：static </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">---------------------------------------- </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">float </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">启动hasLayout的值：left或right </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">取消hasLayout的值：none </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">--------------------------------------- </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">zoom </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">启动hasLayout的值：有值 </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">取消hasLayout的值：narmal或者空值 </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">（zoom是微软IE专有属性，可以触发hasLayout但不会影响页面的显示效果。zoom: 1常用来除错，不过 ie 5 对这个属性不支持。） </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">---------------------------------------- </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">writing-mode: tb-rl </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">这也是微软专有的属性。 </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">ie7还有一些额外的属性可以触发该属性（不完全列表）： </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">min-height: (任何值) </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">max-height: (任何值除了none) </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">min-width: (任何值) </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">max-width: (任何值除了none) </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">overflow: (任何值除了visible) </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">overflow-x: (任何值除了visible) </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">overflow-y: (任何值除了visible)5 </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">position: fixed </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">因元素hasLayout而导致的问题其实一般都很容易发现：往往是内容出现错位甚至完全不可见。举一个典型例子，当一个元素内含浮动或绝对定位的内容时，它通常会表现出奇怪和错误的行为，看下面的代码： </span><br style="margin: 0px; padding: 0px;"/><br style="margin: 0px; padding: 0px;"/></span><span style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; color: rgb(204, 0, 0);"><span style="margin: 0px; padding: 0px;">&lt;div id=&quot;nofloatbox&quot;&gt; </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">&lt;div id=&quot;floatbox&quot;&gt;&lt;/div&gt; </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">&lt;/div&gt;</span></span><br style="margin: 0px; padding: 0px;"/><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">CSS代码如下： </span><br style="margin: 0px; padding: 0px;"/><br style="margin: 0px; padding: 0px;"/></span><span style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; color: rgb(204, 51, 0);"><span style="margin: 0px; padding: 0px;">#nofloatbox { </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">border: 1px solid #FF0000; </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">background: #CCC; </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">}   </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">#floatbox { </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">float: left; </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">width: 100px; </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">height: 100px; </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">border: 1px solid #0000FF; </span><br style="margin: 0px; padding: 0px;"/><span style="margin: 0px; padding: 0px;">background: #00FF00; </span></span></span></span></div><div><span style="font-size: 19px;"><span style="color: rgb(204, 51, 0);"><span style="margin: 0px; padding: 0px;">}</span></span></span></div></div></div></div></span>
</div></body></html> 