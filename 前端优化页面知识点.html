<html>
<head>
  <title>前端优化页面知识点</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <meta name="reminder-order" content="2015/11/10 星期二 07:40"/>
  <meta name="reminder-done-time" content="2015/11/10 星期二 15:53"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1203"/>
<h1>前端优化页面知识点</h1>

<div>
<span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
1 前期准备<br/>
1.1 首页命名为index.html / index.htm / index.php等。<br/>
1.2 需要制作404页面。<br/>
1.3 文件夹结构合理。<br/>
1.4 命名使用英文且有语义性的单词，并提供参考文档。<br/><br/>
2 结构<br/>
2.1 文件头部分<br/>
2.1.1 需要提供文档声明<br/>
2.1.2 设置utf-8的编码格式，并放置于title之上<br/>
2.1.3 合理的填写html文件中的title、meta等内容<br/>
2.1.4 使用外部引入样式表和JS行为代码，实现结构、样式和行为的相分离，降低模块间的耦合度<br/>
2.1.5 合理控制JS文件的引入位置，提升网站的加载速度<br/>
2.1.6 根据具体情况合并CSS、JS文件，降低服务器请求次数<br/>
2.2 标签选用与书写规范<br/>
2.2.1 书写HTML代码的时候，遵循标签语义化的要求，根据标签的语义性进行选择，如布局使用div、标题使用h系列标签、段落使用p标签等<br/>
2.2.2 HTML代码要合理嵌套，一般情况下，行元素当中不能包含块元素，除了段落、标题类型的块元素当中，既能够包含块元素，也能够包含行元素，而段落或标题类的块元素只能够包含文字或行元素。table元素只能够直接包含thead、tbody、tfoot、caption等元素；ul/ol元素只能直接包含li元素；dl元素当中只能直接包含dt和dd元素；form表单当中只能直接包含filedset和legend，不能直接包含input元素。<br/>
2.2.3 合理书写注释，代码缩进合理，不出现多余空行或者空标签，提升代码可读性。<br/>
2.2.4 权衡嵌套层级以及扩展性等多个方面后，在适当位置使用三层嵌套技术。<br/>
2.2.5 合理书写a标签的title、img标签的title和alt，提升网站的SEO。<br/><br/>
3 样式<br/>
3.1 基本代码规范<br/>
3.1.1 CSS规则命名中，一律采用小写加中划线的方式，不使用下划线或大写字母，命名采用更简明有语义的英文单词进行组合，进行合理的缩写<br/>
3.1.2 CSS代码的书写顺序遵循CSS样式的渲染顺序：显示属性-自身属性-文本属性-其他。<br/>
3.1.3 避免class与id重名，对于class名使用中划线，而id名遵循小驼峰命名法。<br/>
3.1.4 在书写网页样式之前，先进行浏览器默认样式重置。<br/>
3.2 兼容问题处理<br/>
3.2.1 在CSS代码当中，尽量的规避掉不同浏览器的兼容问题，如果实在避免不了，也需要进行合理解决。<br/>
3.2.2 尽可能的少使用hack。<br/>
3.2.3 对于CSS3部分属性，如果需要兼容各个浏览器，需要书写各个浏览器前缀。<br/>
3.3 其他样式处理<br/>
3.3.1 合理使用样式的“继承”（CSS后代选择器），或者使用样式的“组合”，减少页面中的类名，提升通用性。<br/>
3.3.2 合理使用群组选择器，进行代码的优化。<br/>
3.3.3 图片需要设置大小，防止后台传送不正常尺寸图像造成的失真。<br/>
3.3.4 对于数据类部分，在适当的地方增加超出隐藏或者超出显示为省略号。<br/>
3.3.5 需要考虑a标签的点击区，通常会对a进行处理：转化为块元素并设置高度，或者浮动设置宽高。<br/>
3.3.6 合理利用元素的默认样式，而不再进行冗余设置（如div等元素的宽度默认为占满父级，就不需要再设置width:100%，对于高度，默认由内容撑开，也不需要设置高度）。<br/>
3.3.7 考虑文档流的变化，对元素进行浮动之后，需要进行及时的清除，采用after伪元素清浮动的方法进行清除。<br/>
3.3.8 对盒模型设置时，子级的margin（顶部）通常会影响父级样式，因此，在父子之间的间距使用父级的内边距撑开，兄弟级别标签之间的距离可采用外边距。<br/><div>4 JS方面<br/>
4.1 变量<br/>
4.1.1 合理命名，遵循基本的命名规范，并遵循命名推荐：属性/变量以名词开头，方法/函数以动词开头，遵循小驼峰，构造函数使用大驼峰，常量所有字母均大写。<br/>
4.1.2 所有变量声明都放在函数的头部。<br/>
4.1.3 所有函数都在使用之前定义。<br/>
4.1.4 尽量避免使用全局变量，防止全局作用域被污染。<br/>
4.1.5 合理书写大括号位置、空行位置、注释等内容，对于声明变量，可以如下声明：<br/>
var box = document.getElementById('box'),<br/>
      con = document.getElementById('con');<br/><br/>
4.1.6 利用对象命名空间、匿名函数、协同命名等方法，尽量避免团队合作时产生的命名冲突。<br/>
4.1.7 文件加载完毕之后再进行代码的执行，合理利用window.onload与jQuery中的$(document).ready。<br/>
4.1.8 对于DOM操作，尽可能减少在页面中查找元素的次数，即用变量存储查找的元素，之后再需使用，只需要使用变量即可（for循环中常见的长度控制，同理）。<br/>
4.2 数据类型<br/>
4.2.1 比较数据时，不要使用&quot;相等&quot;（==）运算符，只使用&quot;严格相等&quot;（===）运算符。<br/>
4.2.2 不要使用隐式的数据类型转换。<br/>
4.2.3 追加字符串时，采用 str += &quot;独行冰海&quot;; 而不是str = str + &quot;独行冰海&quot;;<br/>
4.3 页面基本数据交互<br/>
4.3.1 获取标签使用最为快捷的方法，在PC端原生方法当中，速度比较如下：通过id &gt; 通过类名 &gt; 通过标签名。如果能够在小范围中进行查找时则缩小范围。<br/>
4.3.2 对于样式的修改与调整，根据具体情况采用style或者类名操作（className），防止style的滥用造成的css文件hover失效。<br/>
4.3.3 原生当中，一个元素一种事件只能绑定一次。<br/>
4.3.4 可以通过事件委托，减少页面中类似事件的数量。<br/>
4.3.5 在删除dom节点之前，需要先移除掉该节点上的事件。<br/>
4.4 性能<br/>
4.4.1 对于功能类似的代码，进行函数的封装，可以使用面向对象的书写方法，提升代码的复用性和扩展性。<br/>
4.4.2 尽可能少使用with语句、闭包、eval语句。<br/>
4.4.3 在DOM节点相关操作上进行优化，如利用变量存储查找到的元素，从而防止每次查找时进行页面重绘、利用文档碎片等。<br/>
4.4.4 尽可能减少页面中dom元素样式的修改，防止页面回流与重绘。<br/>
4.4.5 合理使用计时器，防止setInterval造成的内存泄露。<br/>
4.4.6 在设置计时器之后需要考虑计时器的清除，以防止计时器的叠加造成的影响。<br/>
4.5 AJAX<br/>
4.5.1 对于AJAX的异步加载，提供加载的相关提醒。<br/>
4.5.2 防止AJAX造成的重复请求。<br/>
4.5.3 利用时间戳进行缓存的处理。<br/>
4.5.4 对AJAX进行缓存处理。<br/>
4.5.5 合理使用AJAX中发送数据的方法，当文档中允许使用post或get发送时，优选选用get方法。<br/>
4.6 框架<br/>
4.6.1 jQuery等插件的合理引用，处理常见的浏览器兼容问题。<br/>
4.6.2 根进jQuery的发展，及时更新文件库，舍弃已经淘汰的方法（如：.toggle()，.live()等）。<br/><br/>
5 图像方面<br/>
5.1 使用背景图合并技术，将多张背景图合并到一张图片上，从而降低页面与服务器之间的请求次数。<br/>
5.2 存储图像时根据需求采取不同的格式，对于不需要透明的图像可以存储为jpg，需要半透明图像存储为png，对于全透明且像素要求不高的图像可以存储为gif或png-8。对图像质量进行控制，保证在显示效果正常的前提下，存储为尽可能小的图像，对于含透明的图像，需要根据具体显示质量而选择。<br/>
5.3 对于网页中特殊的字体，可以使用@font-face进行设置，并根据实际情况修改字体包，防止字体包文件过大。具体设置方法此处不讲解了，可以参见文章《网络字体@font-face 如何处理网页中的特殊字体》。<br/>
5.4 合理使用图片预加载和图片懒加载。<br/><br/>
6 上线准备<br/>
6.1 在上线之前对html、css、js文件进行压缩。<br/>
6.2 增加网页图标 ico文件，具体增加方法此处也不讲解了，可详见《设置网页地址栏前面的标志图标》。</div></span>
</div></body></html> 